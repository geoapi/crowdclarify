// Local modules.
'use strict';

var _get = require('babel-runtime/helpers/get')['default'];

var _inherits = require('babel-runtime/helpers/inherits')['default'];

var _createClass = require('babel-runtime/helpers/create-class')['default'];

var _classCallCheck = require('babel-runtime/helpers/class-call-check')['default'];

var _slice = require('babel-runtime/helpers/slice')['default'];

var _bind = require('babel-runtime/helpers/bind')['default'];

var _Object$keys = require('babel-runtime/core-js/object/keys')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _core = require('./core');

var _core2 = _interopRequireDefault(_core);

var _commonDefine_arguments = require('./common/define_arguments');

var _commonDefine_arguments2 = _interopRequireDefault(_commonDefine_arguments);

// Static exports.

var _adapterAdaptersMemory = require('./adapter/adapters/memory');

var _adapterAdaptersMemory2 = _interopRequireDefault(_adapterAdaptersMemory);

var _serializerSerializersJson = require('./serializer/serializers/json');

var _serializerSerializersJson2 = _interopRequireDefault(_serializerSerializersJson);

var _serializerSerializersForm = require('./serializer/serializers/form');

var _netHttp = require('./net/http');

var _netHttp2 = _interopRequireDefault(_netHttp);

var _netWebsocket = require('./net/websocket');

var _netWebsocket2 = _interopRequireDefault(_netWebsocket);

var adapters = { memory: _adapterAdaptersMemory2['default'] };
var serializers = { json: _serializerSerializersJson2['default'], formUrlEncoded: _serializerSerializersForm.formUrlEncoded, formData: _serializerSerializersForm.formData };
var net = { http: _netHttp2['default'], websocket: _netWebsocket2['default'] };

/**
 * This class just extends FortuneCore with some default serializers and static
 * properties.
 */

var Fortune = (function (_FortuneCore) {
  _inherits(Fortune, _FortuneCore);

  function Fortune() {
    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

    _classCallCheck(this, Fortune);

    if (!('serializers' in options)) options.serializers = _Object$keys(serializers).map(function (name) {
      return { type: serializers[name] };
    });

    _get(Object.getPrototypeOf(Fortune.prototype), 'constructor', this).call(this, options);
  }

  // Assign useful static properties to the default export.

  _createClass(Fortune, null, [{
    key: 'create',
    value: function create() {
      return new (_bind.apply(Fortune, [null].concat(_slice.call(arguments))))();
    }
  }]);

  return Fortune;
})(_core2['default']);

exports['default'] = Fortune;
(0, _commonDefine_arguments2['default'])(Fortune, { adapters: adapters, serializers: serializers, net: net });
module.exports = exports['default'];